select deptno,job,avg(sal)
from emp
group by rollup(deptno,job);

--group by roll up은 규칙이 있다.
-->group by(A,B)
-->group by(A)
-->group by()

-->group by(A,B,C)
-->group by(A,B)
-->group by(A)
-->group by()

select job 직업,deptno 부서번호, trunc(avg(sal),2) 평균급여
from emp
group by rollup(deptno,job);

select to_number(null), ' ',  trunc(avg(sal),2)
from emp 
union all
select deptno, ' ',  trunc(avg(sal),2)
from emp
group by deptno 
union all
select to_number(null), job,  trunc(avg(sal),2)
from emp
group by job
union all
select deptno, job, avg(sal)
from emp
group by deptno, job ;

select deptno, job, trunc(avg(sal),2)
from emp
group by cube (deptno, job) ; 

select deptno, job, mgr, trunc(avg(sal),2)
from emp
group by grouping sets ((deptno, job), (mgr, job), ());

select deptno 부서번호, job 직무, mgr 관린자, trunc(avg(sal)/2) 평균
from emp
group by grouping sets((deptno,job,mgr),deptno,job);

select * from table(dbms_xplan.display_cursor(sql_id=>'null', format=>'ALLSTATS LAST'));


--join
--join종류:
--equi join : 동일 속성값이 일치할 때 join 수행, = 연산자가 join 조건에 사용됨
--non-equi join : =연산자가 아닌 다른 연산자를 조인 조건에 사용됨
--self join : 하나의 테이블에서 서로 다른 레코드들간에 join이 수행됨
--outer join : equi join에서 한쪽의 join 컬럼값이 null인 경우 결과집합에 누락되므로,
--join 결과 집합으로 가져오기 위한 join방식

--join 수행 방식 종류 :   nested loop join
--                     hash join
--                      sort merge join
--join 구문 -  sql표준(1999)에서 변경됨
--where절에 조인 조건 선언
--from절에 조인 조건 선언

select empno, 










































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































ename, deptno, dname
from emp,dept;